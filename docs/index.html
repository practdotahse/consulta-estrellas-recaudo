<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Consulta de Estrellas – Recaudo Bogotá</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <link rel="stylesheet" href="styles.css">
</head>

<body>

  <div class="card">
    <div class="header">
      <img src="img/logo-recaudo.png" alt="Recaudo Bogotá" class="logo">
      <h1>CONSULTA DE ESTRELLAS</h1>
      <p>Recaudo Bogotá</p>
    </div>

    <div class="content">
      <label for="cedula">Número de documento</label>
      <input type="text" id="cedula" placeholder="Ingresa tu cédula">

      <button onclick="buscar()">Consultar</button>

      <div id="resultado" class="resultado"></div>
      <div id="error" class="error"></div>
    </div>

    <footer>
      Información tomada de la base oficial de reconocimientos
    </footer>
  </div>

<script>
let datos = [];

fetch('data.json')
  .then(res => res.json())
  .then(json => datos = json);

function buscar() {
  const cedula = document.getElementById('cedula').value.trim();
  const resultado = document.getElementById('resultado');
  const error = document.getElementById('error');

  resultado.innerHTML = '';
  error.innerHTML = '';

  const persona = datos.find(p =>
    String(p.cedula).trim() === String(cedula).trim()
  );

  if (!persona) {
    error.textContent = 'No se encontraron registros para este documento.';
    return;
  }

 let mensaje = 'Gracias por tu compromiso y participación. ' +
  'Por cada estrella que hayas ganado, te cargaremos 1.000 puntos en RB Contigo ' +
  'para que puedas redimirlos en cualquier comercio aliado en la plataforma.';


  let categoriasHTML = '';
  persona.categorias.forEach(cat => {
    categoriasHTML += `<span class="chip">${cat}</span>`;
  });

  resultado.innerHTML = `
    <p><strong>Nombre:</strong> ${persona.nombre}</p>
    <p><strong>Cargo:</strong> ${persona.cargo}</p>

    <div class="estrellas-box">
      <div class="estrellas-numero">ESTRELLAS ⭐ ${persona.total}</div>
      <div class="mensaje">${mensaje}</div>
    </div>

    <p><strong>Categorías reconocidas:</strong></p>
    <div class="categorias">
      ${categoriasHTML}
    </div>
  `;
}
</script>

</body>
</html>
