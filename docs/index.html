<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>CONSULTA DE ESTRELLAS ‚Äì Recaudo Bogot√°</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <!-- CSS externo -->
  <link rel="stylesheet" href="styles.css">
</head>

<body>

  <div class="card">
    <div class="header">
     <img src="img/logo-recaudo.png" alt="Recaudo Bogot√°" class="logo">
      <h1>Consulta de Estrellas</h1>
      <p>Recaudo Bogot√°</p>
    </div>

    <div class="content">
      <label for="cedula">N√∫mero de documento</label>
      <input type="text" id="cedula" placeholder="Ingresa tu c√©dula">

      <button onclick="buscar()">Consultar</button>

      <div id="resultado" class="resultado"></div>
      <div id="error" class="error"></div>
    </div>

    <footer>
      Informaci√≥n tomada de la base oficial de reconocimientos
    </footer>
  </div>

<script>
let datos = [];

fetch('data.json')
  .then(res => res.json())
  .then(json => datos = json);

function buscar() {
  const cedula = document.getElementById('cedula').value.trim();
  const resultado = document.getElementById('resultado');
  const error = document.getElementById('error');

  resultado.innerHTML = '';
  error.innerHTML = '';

  const persona = datos.find(p =>
    String(p.cedula).trim() === String(cedula).trim()
  );

  if (!persona) {
    error.textContent = 'No se encontraron registros para este documento.';
    return;
  }

  // ‚≠ê Mensaje seg√∫n estrellas
  let mensaje = '';
  if (persona.total >= 6) {
    mensaje = 'üåü Excelente desempe√±o';
  } else if (persona.total >= 3) {
    mensaje = 'üëè Buen trabajo';
  } else {
    mensaje = 'üí™ Sigue as√≠';
  }

  let categoriasHTML = '';
  persona.categorias.forEach(cat => {
    categoriasHTML += `<span class="chip">${cat}</span>`;
  });

  resultado.innerHTML = `
    <p><strong>Nombre:</strong> ${persona.nombre}</p>
    <p><strong>Cargo:</strong> ${persona.cargo}</p>

    <div class="estrellas-box">
      <div class="estrellas-numero">ESTRELLAS ‚≠ê ${persona.total}</div>
      <div class="mensaje">${mensaje}</div>
    </div>

    <p><strong>Categor√≠as reconocidas:</strong></p>
    <div class="categorias">
      ${categoriasHTML}
    </div>
  `;
}
</script>

</body>
</html>
